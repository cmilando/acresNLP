facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Percent\nof documents\nreferencing\nhazard X') +
facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Percent\nof towns documents\nreferencing\nhazard X') +
facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average frequency\n of words for hazard Xs\ncompared to all\nhazards') +
facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average frequency\n of words for hazard X\ncompared to all\nhazards') +
facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_wrap(~name, nrow = 2)
library(ggpubr)
ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_wrap(~name, nrow = 2)
ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_wrap(~name, nrow = 2) +
theme(strip.background = element_blank())
library(lemon)
ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
theme(strip.background = element_blank())
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
theme(strip.background = element_blank())
ggsave(d1, device = 'png', dpi = 1200)
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL)
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
axis.ticks = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
axis.text = element_blank())
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
axis.text = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
axis.text = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
plot.background = element_rect(color = 'black')
axis.text = element_blank())
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
plot.background = element_rect(color = 'black'),
axis.text = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank())
d1
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
d1
#make background blue to represent water
ma_outline <- states(cb = T) %>% filter(NAME == "Massachusetts")
ma_counties <- counties(state = "MA", cb = T)
ma_counties_no_suffolk <- ma_counties %>% filter(NAME != "Suffolk")
ma_outline_wgs84 <- st_transform(ma_outline, crs = 4326)
bbox <- st_bbox(hazard_towns)
bbox_sf <- st_as_sfc(bbox)
ma_outline_bbox <- st_crop(ma_outline_wgs84, bbox_sf)
bbox_coords <- st_bbox(ma_outline_bbox)
d1 = ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(mapping = aes(),
color = "black",
fill = "white") +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank()) +
d1
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(mapping = aes(),
color = "black",
fill = "white") +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank()) +
d1
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(mapping = aes(),
color = "black",
fill = "white") +
geom_sf(aes(fill = value)) +
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(mapping = aes(),
color = "black",
fill = "white") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin, bbox_coords$xmax),
ylim = c(bbox_coords$ymin, bbox_coords$ymax),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
# geom_sf(mapping = aes(),
#         color = "black",
#         fill = "white") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin, bbox_coords$xmax),
ylim = c(bbox_coords$ymin, bbox_coords$ymax),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
bbox_coords$xmin
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin * 0.95, bbox_coords$xmax * 1.05),
ylim = c(bbox_coords$ymin * 0.95, bbox_coords$ymax * 1.05),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin * 0.9995, bbox_coords$xmax * 1.0005),
ylim = c(bbox_coords$ymin * 0.9995, bbox_coords$ymax * 1.0005),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.0001, bbox_coords$xmax + 0.0001),
ylim = c(bbox_coords$ymin - 0.0001, bbox_coords$ymax + 0.0001),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.001, bbox_coords$xmax + 0.001),
ylim = c(bbox_coords$ymin - 0.001, bbox_coords$ymax + 0.001),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black",
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey")+
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\n of hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~name, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
hazard_name_map = c(
"air_pollution_avg" = 'Air Pollution',
'chem_hazard_avg' = 'Chemical Hazards',
'extreme_precip_avg' = 'Extreme Precipitation',
'fire_avg' = 'Fire',
'flood_avg' = 'Flood',
'heat_avg' = 'Heat',
'indoor_air_avg' = 'Indoor Air',
'storm_avg' = 'Storm'
)
ACRES_hazard_towns_plot$haz_name_plot = hazard_name_map[ACRES_hazard_towns_plot$name]
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\nof hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\nof hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
#panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average proportion\nof hazard words\nreferencing hazard X\nacross reports') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggsave(device = 'png', dpi = 600, file = 'fig1.png')
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average per-document\nproportion of\nhazard words\nreferencing hazard X\n') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average per-document\nproportion of\nhazard words\nreferencing hazard X\n') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
strip.text = element_text(size = 10),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average per-document\nproportion of\nhazard words\nreferencing hazard X\n') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
strip.text = element_text(size = 12),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggsave(device = 'png', dpi = 600, file = 'fig1.png',
width = 6, height = 4)
ggsave(device = 'png', dpi = 600, file = 'fig1.png',
width = 8, height = 6)
hazard_name_map = c(
"air_pollution_avg" = 'Air Pollution',
'chem_hazard_avg' = 'Chemical Hazards',
'extreme_precip_avg' = 'Extreme Precip.',
'fire_avg' = 'Fire',
'flood_avg' = 'Flood',
'heat_avg' = 'Heat',
'indoor_air_avg' = 'Indoor Air',
'storm_avg' = 'Storm'
)
ACRES_hazard_towns_plot$haz_name_plot = hazard_name_map[ACRES_hazard_towns_plot$name]
ggplot(ACRES_hazard_towns_plot %>%
filter(!is.na(value))) + theme_classic2() +
geom_sf(data = ma_counties_no_suffolk,
color = "black", linetype = '11',
fill = "grey") +
geom_sf(aes(fill = value)) +
coord_sf(xlim = c(bbox_coords$xmin - 0.01, bbox_coords$xmax + 0.01),
ylim = c(bbox_coords$ymin - 0.01, bbox_coords$ymax + 0.01),
expand = FALSE) +  # Set plot bounds
scale_fill_binned(type = 'viridis',
name = 'Average per-document\nproportion of\nhazard words\nreferencing hazard X\n') +
facet_rep_wrap(~haz_name_plot, nrow = 2, repeat.tick.labels = 'x') +
xlab(NULL) + ylab(NULL) +
theme(strip.background = element_blank(),
strip.text = element_text(size = 12),
panel.background = element_rect(color = 'black'),
axis.text = element_blank(),
axis.ticks = element_blank())
ggsave(device = 'png', dpi = 600, file = 'fig1.png',
width = 8, height = 6)
